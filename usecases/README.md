# usecases

## 创作文章用例

### 用户打草稿

用户打开一个草稿/用户选择一个草稿编辑----》用户编辑文章 -----》用户保存草稿（draft) -----》用户发布草稿为文章(article)

1. 草稿与文章的使用场景描述

   1. 作者可以查看草稿，并对草稿进行多次编辑修改。此时用户不能查看

   2. 作者发布草稿成文章，此时读者能查看

2. 设计草稿与文章：使用 status 来区分草稿与文章

3. 用例

   1. 文章没发布作者在自己的草稿列表中查看文章

   2. 文章已发布作者在自己的已发布文章中列表中查看

   3. 用户在文章列表中查看文章

### 用户修改已发布文章

用户查看已发布文章---》用户选择已发布文章编辑-----》用户编辑已发布文章------》用户保存编辑---------》用户发布最新文章更新

1. 用例场景描述

   1. 用户编辑已发布文章，保存编辑未发布时其它用户不能查看对文章的修改

   2. 用户发布对文章的修改，其它用户看到文章最新内容

2. 设计目的

   1. 对于已发布文章，既可以让方便作者进行二次修改创作。并且不影响读者查看作者已完成内容

   2. 作者二次创作的内容只有作者创作完成发布后读者才能查看

3. 用例的设计

   1. 用户编辑的已发布文章保存到一个副本储存区域中，每次修改都是修改这个副本

   2. 用户发布修改，更新副本内容到文章中

4. 用例

   1. 用户编辑已发布文章，编辑保存到副本存储区域

   2. 用户编辑的文章未发布时其它用户查看的是原内容，用户发布时更新修改内容到文章，其它用户看见最新内容

### 用户查看文章详情

用户查看文章列表---》用户查看文章详情

1. 用例场景描述

   用户查看文章列表，在列表中展示文章标题和作者信息，用户选择了列表中的文章想要查看详情如何获取文章详情

2. 设计的目的

   当用户查看文章列表，选中了一篇文章想要查看详情时能看到唯一对应的文章详情

3. 用例的设计

   设计一：

   1. 在用户查看了文章列表后，要查看文章详情时通过文章标题查找到文章，找到的文章可能重复，用户指定了想要查看的唯一文章，通过标题找到的确是多篇结果，不合理

   设计二：

   1. 设计一个 ID 到文章属性中，每篇文章都有一个唯一的 ID，查找文章详情通过 ID 找到唯一的文章

   2. 生成方式：

      设计一个序列发生器生成 ID

4. 用例测试

   1. 每篇文章 ID 保证是在所有文章全家唯一的

### 文章定时保存

TODO

## 用户注册、登录用例、退出登录

用户注册---》用户登录系统-----》用户退出登录

1. 场景描述

   1. 用户(User)没有注册时可以查看和浏览已发布文章列表，但是创作文章时，我们需要知道文章的创作人,这样用户创作文章之后，可以在多端（手机端，网站）中查看、编辑和发布自己的文章,读者也可以联系作者

2. 设计的目的

   1. 在用户创作文章、发布文章知道用户的信息

3. 设计

   1. 设计一：每次用户进行创作文章、发布文章等操作时输入用户个人信息（用户名、密码）等信息

      1. 因为用户可能多次创作、编辑文章，如果每次都要在操作时输入用户个信息知道用户是谁，对于用户操作很麻烦，也很容易出错

      2. 如果是让用户填调查报告，或推广产品时让未注册用户扫码抽奖这种场景下虽然也需要知道用户信息，但是用户只是一次使用系统，让用户注册一下再操作反而更麻烦，在这种情况下用户手动输入一次个人信息可能更方便

   2. 设计二：让用户注册一次个人信息保存到系统，然后在使用系统前登录系统校验一下用户身份然后系统就知道用户是谁

### 用户注册

1. 场景描述

   1. 用户创作、编辑文章和查看个人创作文章列表，系统都需要知道用户是谁

2. 设计的目的

   1. 为了避免用户每次操作都输入个人信息，让用户先在系统中注册个人信息

3. 设计

   1. 用户注册时需要知道用户名字

   2. 为了联系用户需要知道邮箱

   3. 由于用户名可能重复，邮箱可能修改，为了唯一定位用户，需要设计 ID

   4. 为了校验用户身份，需要 password

4. 用例

   1. 用户注册时，邮箱已经注册过

   2. 用户邮箱没有注册过，注册成功

### 用户登录

1. 用例场景描述

   1. 用户虽然注册过系统，但是为了知道当前操作系统是谁，用户需要向系统表明身份

2. 目的

   1. 用户输入信息向系统表明身份，系统校验用户身份

   2. 系统登记用户的登录身份，这样在每次操作时都能知道用户是谁

3. 用例设计

   1. 用户输入部分个人信息校验用户身份，如何校验用户身份？

      1. 设计一：用户输入用户名、密码校验，由于用户名可能重复，不行

      2. 设计二：用户输入 ID 和密码校验，ID 不方便用户记住，不行

      3. 设计三：用户输入邮箱或电话号码校验，邮箱或电话号码用户经常使用，方便记住，且用户的邮箱或者手机号是唯一的

   2. 记住用户的登录行为，由于网络的无状态，且同一个客户端可以有多个人操作登录系统，为了避免用户每次都要登录，需要生成一个凭证保存在客户端来校验用户是否登录和登录的用户是谁

      设计：

      1. 校验用户身份成功

      2. 生成一个 token 给客户端

      3. 客户端登保存 token，每次请求携带给客户端，客户端通过 token 校验用户是否登录
      4. 通过 token 在服务端获取用户信息

4. 用例测试

   1. 用户输入正确的邮箱和密码校验用户身份成功，用户明密码错误校验不成功

   2. 用户身份校验成功，生成 token，保存用户登录登录状态在服务端

   3. 用户登录后客服端携带 token 请求信息时服务端校验用户登录状态成功
